<div class="ibox">

    <div class="ibox-title">
        <h5>文件存储配置</h5>
    </div>
    <div class="ibox-content fadeInUp animated">
        <div class="alert alert-success alert-dismissible" role="alert" style="border-radius:0">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
            <p style="font-size:18px;padding-bottom:10px">操作提示</p><p style="font-size:14px">文件引擎参数影响全局文件上传功能，请勿随意修改！</p>        </div>

        <form onsubmit="return false;" action="/admin/config/file.html?spm=m-2-6" data-auto="true" method="post" class="form-horizontal" style="padding-top:20px" data-listen="true" novalidate="novalidate">

            <div class="form-group">
                <label class="col-sm-2 control-label label-required">Storage <span class="nowrap">(存储引擎)</span></label>
                <div class="col-sm-8">
                    <select class="layui-input" name="storage_type" required="required">
                        <!---->
                        <option selected="selected" value="local">本地服务器</option>
                        <option value="qiniu">七牛云存储</option>
                        <option value="oss">AliOSS存储</option>
                        <!---->
                    </select><span style="animation-duration: 0.2s; padding-right: 20px; color: rgb(169, 68, 66); position: absolute; right: 0px; font-size: 12px; z-index: 2; display: block; width: 30px; text-align: center; pointer-events: none; top: 0px; padding-top: 0px; padding-bottom: 0px; line-height: normal;"></span>
                    <div class="help-block" data-storage-type="qiniu" style="display: none;">
                        若还没有七牛云帐号，请点击
                        <a target="_blank" href="https://portal.qiniu.com/signup?code=3lhz6nmnwbple">免费申请10G存储空间</a>,
                        申请成功后添加公开bucket空间
                    </div>
                    <div class="help-block" data-storage-type="oss" style="display: none;">
                        若还没有AliOSS存储账号, 请点击 <a target="_blank" href="https://oss.console.aliyun.com">创建AliOSS存储空间</a>,
                        目前仅支持公开空间URL访问, 另外还需要配置AliOSS跨域策略
                    </div>
                </div>
            </div>

            <div class="hr-line-dashed" data-storage-type="qiniu" style="display: none;"></div>

            <div class="form-group" data-storage-type="qiniu" style="display: none;">
                <label class="col-sm-2 control-label label-required">Region <span class="nowrap">(存储区域)</span></label>
                <div class="col-sm-8">
                    <select class="layui-input" name="storage_qiniu_region" required="required">

                        <!---->
                        <option selected="" value="华东">华东</option>
                        <!---->

                        <!---->
                        <option value="华北">华北</option>
                        <!---->

                        <!---->
                        <option value="华南">华南</option>
                        <!---->

                        <!---->
                        <option value="北美">北美</option>
                        <!---->

                    </select>
                    <p class="help-block">七牛云存储空间所在区域，需要严格对应储存所在区域才能上传文件</p>
                </div>
            </div>

            <div class="form-group" data-storage-type="qiniu" style="display: none;">
                <label class="col-sm-2 control-label label-required">Protocol <span class="nowrap">(访问协议)</span></label>
                <div class="col-sm-8">
                    <select class="layui-input" name="storage_qiniu_is_https" required="required">
                        <!---->
                        <option value="0">HTTP</option>
                        <option selected="" value="1">HTTPS</option>
                        <!---->
                    </select>
                    <p class="help-block">七牛云资源访问协议（HTTP 或 HTTPS），HTTPS 需要配置证书才能使用</p>
                </div>
            </div>


            <div class="form-group" data-storage-type="qiniu" style="display: none;">
                <label class="col-sm-2 control-label label-required">Bucket <span class="nowrap">(空间名称)</span></label>
                <div class="col-sm-8">
                    <input type="text" name="storage_qiniu_bucket" required="required" title="请输入七牛云存储 Bucket (空间名称)" placeholder="请输入七牛云存储 Bucket (空间名称)" value="static" class="layui-input">
                    <p class="help-block">填写七牛云存储空间名称，如：static</p>
                </div>
            </div>

            <div class="form-group" data-storage-type="qiniu" style="display: none;">
                <label class="col-sm-2 control-label label-required">Domain <span class="nowrap">(访问域名)</span></label>
                <div class="col-sm-8">
                    <input type="text" name="storage_qiniu_domain" required="required" title="请输入七牛云存储 Domain (访问域名)" placeholder="请输入七牛云存储 Domain (访问域名)" value="static.ctolog.com" class="layui-input">
                    <p class="help-block">填写七牛云存储访问域名，如：static.ctolog.cc</p>
                </div>
            </div>

            <div class="form-group" data-storage-type="qiniu" style="display: none;">
                <label class="col-sm-2 control-label label-required">AccessKey <span class="nowrap">(访问密钥)</span></label>
                <div class="col-sm-8">
                    <input type="text" name="storage_qiniu_access_key" required="required" title="请输入七牛云 AccessKey (访问密钥)" placeholder="请输入七牛云 AccessKey (访问密钥)" value="" class="layui-input">
                    <p class="help-block">可以在 [ 七牛云 &gt; 个人中心 ] 设置并获取到访问密钥</p>
                </div>
            </div>


            <div class="form-group" data-storage-type="qiniu" style="display: none;">
                <label class="col-sm-2 control-label label-required">SecretKey <span class="nowrap">(安全密钥)</span></label>
                <div class="col-sm-8">
                    <input type="password" name="storage_qiniu_secret_key" required="required" title="请输入七牛云 SecretKey (安全密钥)" placeholder="请输入七牛云 SecretKey (安全密钥)" value="" maxlength="43" class="layui-input">
                    <p class="help-block">可以在 [ 七牛云 &gt; 个人中心 ] 设置并获取到安全密钥</p>
                </div>
            </div>

            <div class="form-group" data-storage-type="oss" style="display: none;">
                <label class="col-sm-2 control-label label-required">Protocol <span class="nowrap">(访问协议)</span></label>
                <div class="col-sm-8">
                    <select class="layui-input" name="storage_oss_is_https" required="required">
                        <!---->
                        <option value="0">HTTP</option>
                        <option selected="" value="1">HTTPS</option>
                        <!---->
                    </select>
                    <p class="help-block">AliOSS资源访问协议（HTTP 或 HTTPS），HTTPS 需要配置证书才能使用</p>
                </div>
            </div>

            <div class="form-group" data-storage-type="oss" style="display: none;">
                <label class="col-sm-2 control-label label-required">Bucket <span class="nowrap">(空间名称)</span></label>
                <div class="col-sm-8">
                    <input type="text" name="storage_oss_bucket" required="required" title="请输入AliOSS Bucket (空间名称)" placeholder="请输入AliOSS Bucket (空间名称)" value="" class="layui-input">
                    <p class="help-block">填写OSS存储空间名称，如：static</p>
                </div>
            </div>

            <div class="form-group" data-storage-type="oss" style="display: none;">
                <label class="col-sm-2 control-label label-required">Domain <span class="nowrap">(访问域名)</span></label>
                <div class="col-sm-8">
                    <input type="text" name="storage_oss_domain" required="required" title="请输入AliOSS存储 Domain (访问域名)" placeholder="请输入AliOSS存储 Domain (访问域名)" value="" class="layui-input">
                    <p class="help-block">填写OSS存储外部访问域名，如：static.ctolog.cc</p>
                </div>
            </div>

            <div class="form-group" data-storage-type="oss" style="display: none;">
                <label class="col-sm-2 control-label label-required">AccessKey <span class="nowrap">(访问密钥)</span></label>
                <div class="col-sm-8">
                    <input type="text" name="storage_oss_keyid" required="required" title="请输入16位AliOSS AccessKey (访问密钥)" placeholder="请输入AliOSS AccessKey (访问密钥)" value="" maxlength="16" class="layui-input">
                    <p class="help-block">可以在 [ 阿里云 &gt; 个人中心 ] 设置并获取到访问密钥</p>
                </div>
            </div>


            <div class="form-group" data-storage-type="oss" style="display: none;">
                <label class="col-sm-2 control-label label-required">SecretKey <span class="nowrap">(安全密钥)</span></label>
                <div class="col-sm-8">
                    <input type="password" name="storage_oss_secret" required="required" title="请输入30位AliOSS SecretKey (安全密钥)" placeholder="请输入AliOSS SecretKey (安全密钥)" value="" maxlength="30" class="layui-input">
                    <p class="help-block">可以在 [ 阿里云 &gt; 个人中心 ] 设置并获取到安全密钥</p>
                </div>
            </div>

            <div class="hr-line-dashed"></div>

            <div class="col-sm-4 col-sm-offset-2">
                <div class="layui-form-item text-center">
                    <button class="layui-btn" type="submit">保存配置</button>
                </div>
            </div>

        </form>

    </div>

    <script>
        $(function () {
            $('[name="storage_type"]').on('change', function () {
                $("[data-storage-type]").not($("[data-storage-type='" + $(this).val() + "']").show()).hide();
            }).trigger('change');
        });
    </script>

</div>