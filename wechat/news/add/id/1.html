<div class="ibox">

    <style>
        .panel{border-radius:0}
        .news-left {left:20px;width:300px;position:absolute;}
        .news-right {position:absolute;left:335px;right:20px;}
        .news-left .news-item {position:relative;width:280px;height:150px;max-width:270px;overflow:hidden;border:1px solid #ccc;background-size:cover;background-position:center center;}
        .news-left .news-item.active {border:1px solid #44b549 !important;}
        .news-left .article-add {font-size:22px;text-align:center;display:block;color:#999;}
        .news-left .article-add:hover{color:#666;}
        .news-left .news-title{bottom:0;width:272px;color:#fff;display:block;padding:0 5px;overflow:hidden;position:absolute;margin-left:-1px;text-overflow:ellipsis;max-height:6em;background:rgba(0,0,0,0.7);}
        .news-right .layui-input{border-radius:0;border:1px solid #e5e6e7;}
        .news-right .layui-input:hover, .news-right .layui-input:focus{border-color:#e5e6e7!important;}
        .news-right .input-group-addon{background:#fff;border-radius:0;border-color:#e5e6e7;}
        .news-right .upload-image-box{width:130px;height:90px;background-size:cover;background-position:center center;border:1px solid rgba(125,125,125,0.1);margin:5px}
        .news-item .upload-multiple-close{width:30px;height:30px;line-height:30px;text-align:center;background-color:rgba(0,0,0,.5);color:#fff;float:right;}
        .news-item .upload-multiple-close:hover{text-decoration:none}
        .edui-default .edui-editor{border-radius:0!important}
    </style>

    <div class="ibox-title">
        <h5>新建图文</h5>

    </div>
    <div class="ibox-content fadeInUp">


        <!--左侧图文列表 开始-->
        <div class="panel panel-default news-left">
            <div class="panel-heading">图文列表</div>
            <div class="panel-body news-box">
                <div class="news-item transition active news-image" style="background-image:url('/static/plugs/uploader/theme/image.png')">
                    <a class="upload-multiple-close fa fa-close hide"></a>
                    <span class="news-title"></span>
                </div>
                <hr>
                <a href="javascript:void(0)" class="article-add transition" data-text-tip="添加图文"><i class="fa fa-plus"></i></a>
            </div>
        </div>
        <!--左侧图文列表 结束-->

        <!--右侧编辑区 开始-->
        <div class="panel panel-default news-right" style="overflow: hidden;">
            <div class="panel-heading">图文内容编辑</div>
            <div class="panel-body">
                <form class="form-horizontal" role="form" name="news" onsubmit="return false;" novalidate="novalidate">

                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="input-group">
                                <span class="input-group-addon">标题</span>
                                <input maxlength="64" required="required" title="标题不能为空哦" placeholder="请在这里输入标题" name='title' class="layui-input">
                                <input type="hidden" name="id">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="input-group">
                                <span class="input-group-addon">作者</span>
                                <input maxlength="8" required="required" title="作者不能为空哦" placeholder="请输入作者" name='author' class="layui-input">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="form-control" style="height:auto">
                                <label style="color:#ccc">图文封面大图片设置</label>
                                <div class="row nowrap">
                                    <div class="col-xs-3" style="width:160px">
                                        <div class="upload-image-box" style="background-image: url(/static/plugs/uploader/theme/image.png);">
                                            <input value="/static/plugs/uploader/theme/image.png" type="hidden" name="local_url">
                                        </div>
                                    </div>
                                    <div class="col-xs-6">
                                        <br>
                                        <a data-file="one" data-type="jpg,png,jpeg" data-field="local_url" class="btn btn-sm">上传图片</a>
                                        <a data-iframe="/wechat/news/image.html?field=local_url" class="btn btn-sm">选择图片</a>
                                        <br><br>
                                        <label style="margin-left:0;padding-left:10px">
                                            <input data-auto-none="" type="checkbox" value="1" name="show_cover_pic">
                                            在正文显示此图片
                                        </label>
                                    </div>
                                </div>
                                <p class="help-block" style="margin-top:10px;color:#ccc">封面大图片建议尺寸：900像素 * 500像素</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12">
                            <div id="_ueditor_id_1091952" class="edui-default" style=""><div id="edui1" class="edui-editor  edui-default" style="z-index: 9000;"><div id="edui1_toolbarbox" class="edui-editor-toolbarbox edui-default"><div id="edui1_toolbarboxouter" class="edui-editor-toolbarboxouter edui-default"><div class="edui-editor-toolbarboxinner edui-default"><div id="edui2" class="edui-toolbar   edui-default" onselectstart="return false;" onmousedown="return $EDITORUI[&quot;edui2&quot;]._onMouseDown(event, this);" style="user-select: none;"><div id="edui3" class="edui-box edui-button edui-for-source edui-default"><div id="edui3_state" onmousedown="$EDITORUI[&quot;edui3&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui3&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui3&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui3&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui3_body" unselectable="on" title="源代码" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui3&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui3&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui4" class="edui-box edui-button edui-for-undo edui-default"><div id="edui4_state" onmousedown="$EDITORUI[&quot;edui4&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui4&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui4&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui4&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-disabled"><div class="edui-button-wrap edui-default"><div id="edui4_body" unselectable="on" title="撤销" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui4&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui4&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui5" class="edui-box edui-button edui-for-redo edui-default"><div id="edui5_state" onmousedown="$EDITORUI[&quot;edui5&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui5&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui5&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui5&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-disabled"><div class="edui-button-wrap edui-default"><div id="edui5_body" unselectable="on" title="重做" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui5&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui5&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui6" class="edui-box edui-combox edui-for-fontfamily edui-default"><div title="字体" id="edui6_state" onmousedown="$EDITORUI[&quot;edui6&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui6&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui6&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui6&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-combox-body edui-default"><div id="edui6_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui6&quot;]._onButtonClick(event, this);">arial</div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui6&quot;]._onArrowClick();"></div></div></div></div><div id="edui19" class="edui-box edui-combox edui-for-fontsize edui-default"><div title="字号" id="edui19_state" onmousedown="$EDITORUI[&quot;edui19&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui19&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui19&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui19&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-combox-body edui-default"><div id="edui19_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui19&quot;]._onButtonClick(event, this);">16px</div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui19&quot;]._onArrowClick();"></div></div></div></div><div id="edui30" class="edui-box edui-combox edui-for-paragraph edui-default"><div title="段落格式" id="edui30_state" onmousedown="$EDITORUI[&quot;edui30&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui30&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui30&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui30&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-combox-body edui-default"><div id="edui30_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui30&quot;]._onButtonClick(event, this);">段落</div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui30&quot;]._onArrowClick();"></div></div></div></div><div id="edui39" class="edui-box edui-button edui-for-bold edui-default"><div id="edui39_state" onmousedown="$EDITORUI[&quot;edui39&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui39&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui39&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui39&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui39_body" unselectable="on" title="加粗" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui39&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui39&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui40" class="edui-box edui-button edui-for-italic edui-default"><div id="edui40_state" onmousedown="$EDITORUI[&quot;edui40&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui40&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui40&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui40&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui40_body" unselectable="on" title="斜体" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui40&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui40&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui41" class="edui-box edui-button edui-for-underline edui-default"><div id="edui41_state" onmousedown="$EDITORUI[&quot;edui41&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui41&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui41&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui41&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui41_body" unselectable="on" title="下划线" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui41&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui41&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui42" class="edui-box edui-splitbutton edui-for-forecolor edui-default edui-colorbutton"><div title="字体颜色" id="edui42_state" onmousedown="$EDITORUI[&quot;edui42&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui42&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui42&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui42&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-splitbutton-body edui-default"><div id="edui42_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui42&quot;]._onButtonClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div id="edui42_colorlump" class="edui-colorlump"></div></div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui42&quot;]._onArrowClick();"></div></div></div></div><div id="edui45" class="edui-box edui-splitbutton edui-for-backcolor edui-default edui-colorbutton"><div title="背景色" id="edui45_state" onmousedown="$EDITORUI[&quot;edui45&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui45&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui45&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui45&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-splitbutton-body edui-default"><div id="edui45_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui45&quot;]._onButtonClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div id="edui45_colorlump" class="edui-colorlump"></div></div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui45&quot;]._onArrowClick();"></div></div></div></div><div id="edui48" class="edui-box edui-button edui-for-indent edui-default"><div id="edui48_state" onmousedown="$EDITORUI[&quot;edui48&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui48&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui48&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui48&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui48_body" unselectable="on" title="首行缩进" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui48&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui48&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui49" class="edui-box edui-button edui-for-justifyleft edui-default"><div id="edui49_state" onmousedown="$EDITORUI[&quot;edui49&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui49&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui49&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui49&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-checked"><div class="edui-button-wrap edui-default"><div id="edui49_body" unselectable="on" title="居左对齐" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui49&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui49&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui50" class="edui-box edui-button edui-for-justifyright edui-default"><div id="edui50_state" onmousedown="$EDITORUI[&quot;edui50&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui50&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui50&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui50&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui50_body" unselectable="on" title="居右对齐" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui50&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui50&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui51" class="edui-box edui-button edui-for-justifycenter edui-default"><div id="edui51_state" onmousedown="$EDITORUI[&quot;edui51&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui51&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui51&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui51&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui51_body" unselectable="on" title="居中对齐" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui51&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui51&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui52" class="edui-box edui-button edui-for-justifyjustify edui-default"><div id="edui52_state" onmousedown="$EDITORUI[&quot;edui52&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui52&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui52&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui52&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui52_body" unselectable="on" title="两端对齐" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui52&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui52&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui53" class="edui-box edui-button edui-for-formatmatch edui-default"><div id="edui53_state" onmousedown="$EDITORUI[&quot;edui53&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui53&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui53&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui53&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui53_body" unselectable="on" title="格式刷" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui53&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui53&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui54" class="edui-box edui-splitbutton edui-for-autotypeset edui-default"><div title="自动排版" id="edui54_state" onmousedown="$EDITORUI[&quot;edui54&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui54&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui54&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui54&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-splitbutton-body edui-default"><div id="edui54_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui54&quot;]._onButtonClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui54&quot;]._onArrowClick();"></div></div></div></div><div id="edui57" class="edui-box edui-button edui-for-removeformat edui-default"><div id="edui57_state" onmousedown="$EDITORUI[&quot;edui57&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui57&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui57&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui57&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui57_body" unselectable="on" title="清除格式" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui57&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui57&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui64" class="edui-box edui-button edui-for-link edui-default"><div id="edui64_state" onmousedown="$EDITORUI[&quot;edui64&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui64&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui64&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui64&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui64_body" unselectable="on" title="超链接" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui64&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui64&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui65" class="edui-box edui-button edui-for-unlink edui-default"><div id="edui65_state" onmousedown="$EDITORUI[&quot;edui65&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui65&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui65&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui65&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-disabled"><div class="edui-button-wrap edui-default"><div id="edui65_body" unselectable="on" title="取消链接" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui65&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui65&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div></div></div></div><div id="edui66" class="edui-box edui-splitbutton edui-for-emotion edui-default"><div title="表情" id="edui66_state" onmousedown="$EDITORUI[&quot;edui66&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui66&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui66&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui66&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-splitbutton-body edui-default"><div id="edui66_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui66&quot;]._onButtonClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui66&quot;]._onArrowClick();"></div></div></div></div><div id="edui72" class="edui-box edui-button edui-for-map edui-default"><div id="edui72_state" onmousedown="$EDITORUI[&quot;edui72&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui72&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui72&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui72&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui72_body" unselectable="on" title="Baidu地图" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui72&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui72&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui73" class="edui-box edui-button edui-for-imagenone edui-default"><div id="edui73_state" onmousedown="$EDITORUI[&quot;edui73&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui73&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui73&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui73&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-disabled"><div class="edui-button-wrap edui-default"><div id="edui73_body" unselectable="on" title="默认" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui73&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui73&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui74" class="edui-box edui-button edui-for-imageleft edui-default"><div id="edui74_state" onmousedown="$EDITORUI[&quot;edui74&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui74&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui74&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui74&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-disabled"><div class="edui-button-wrap edui-default"><div id="edui74_body" unselectable="on" title="左浮动" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui74&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui74&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui75" class="edui-box edui-button edui-for-imageright edui-default"><div id="edui75_state" onmousedown="$EDITORUI[&quot;edui75&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui75&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui75&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui75&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-disabled"><div class="edui-button-wrap edui-default"><div id="edui75_body" unselectable="on" title="右浮动" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui75&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui75&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui76" class="edui-box edui-button edui-for-imagecenter edui-default"><div id="edui76_state" onmousedown="$EDITORUI[&quot;edui76&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui76&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui76&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui76&quot;].Stateful_onMouseOut(event, this);" class="edui-default edui-state-disabled"><div class="edui-button-wrap edui-default"><div id="edui76_body" unselectable="on" title="居中" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui76&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui76&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui77" class="edui-box edui-menubutton edui-for-lineheight edui-default"><div title="行间距" id="edui77_state" onmousedown="$EDITORUI[&quot;edui77&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui77&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui77&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui77&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-menubutton-body edui-default"><div id="edui77_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui77&quot;]._onButtonClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui77&quot;]._onArrowClick();"></div></div></div></div><div id="edui90" class="edui-box edui-button edui-for-scrawl edui-default"><div id="edui90_state" onmousedown="$EDITORUI[&quot;edui90&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui90&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui90&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui90&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui90_body" unselectable="on" title="涂鸦" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui90&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui90&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui91" class="edui-box edui-splitbutton edui-for-inserttable edui-default"><div title="插入表格" id="edui91_state" onmousedown="$EDITORUI[&quot;edui91&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui91&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui91&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui91&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-splitbutton-body edui-default"><div id="edui91_button_body" class="edui-box edui-button-body edui-default" onclick="$EDITORUI[&quot;edui91&quot;]._onButtonClick(event, this);"><div class="edui-box edui-icon edui-default"></div></div><div class="edui-box edui-splitborder edui-default"></div><div class="edui-box edui-arrow edui-default" onclick="$EDITORUI[&quot;edui91&quot;]._onArrowClick();"></div></div></div></div><div id="edui94" class="edui-box edui-button edui-for-uimage edui-default"><div id="edui94_state" onmousedown="$EDITORUI[&quot;edui94&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui94&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui94&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui94&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui94_body" unselectable="on" title="单图上传" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui94&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui94&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div><div id="edui95" class="edui-box edui-button edui-for-umimage edui-default"><div id="edui95_state" onmousedown="$EDITORUI[&quot;edui95&quot;].Stateful_onMouseDown(event, this);" onmouseup="$EDITORUI[&quot;edui95&quot;].Stateful_onMouseUp(event, this);" onmouseover="$EDITORUI[&quot;edui95&quot;].Stateful_onMouseOver(event, this);" onmouseout="$EDITORUI[&quot;edui95&quot;].Stateful_onMouseOut(event, this);" class="edui-default"><div class="edui-button-wrap edui-default"><div id="edui95_body" unselectable="on" title="多图上传" class="edui-button-body edui-default" onmousedown="return $EDITORUI[&quot;edui95&quot;]._onMouseDown(event, this);" onclick="return $EDITORUI[&quot;edui95&quot;]._onClick(event, this);"><div class="edui-box edui-icon edui-default"></div><div class="edui-box edui-label edui-default"></div></div></div></div></div></div></div></div><div id="edui1_toolbarmsg" class="edui-editor-toolbarmsg edui-default" style="display:none;"><div id="edui1_upload_dialog" class="edui-editor-toolbarmsg-upload edui-default" onclick="$EDITORUI[&quot;edui1&quot;].showWordImageDialog();">点击上传</div><div class="edui-editor-toolbarmsg-close edui-default" onclick="$EDITORUI[&quot;edui1&quot;].hideToolbarMsg();">x</div><div id="edui1_toolbarmsg_label" class="edui-editor-toolbarmsg-label edui-default"></div><div style="height:0;overflow:hidden;clear:both;" class="edui-default"></div></div><div id="edui1_message_holder" class="edui-editor-messageholder edui-default" style="top: 150px; z-index: 9001;"><div id="edui97" class="edui-message   edui-default" style="display: block;"> <div id="edui97_closer" class="edui-message-closer edui-default">×</div> <div id="edui97_body" class="edui-message-body edui-message-type-info edui-default"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank" class="edui-default"></iframe> <div class="edui-shadow edui-default"></div> <div id="edui97_content" class="edui-message-content edui-default">本地保存成功</div> </div></div></div></div><div id="edui1_iframeholder" class="edui-editor-iframeholder edui-default" style="height: 500px; z-index: 9000; overflow: hidden;"><iframe id="ueditor_0" width="100%" height="100%" frameborder="0" src="javascript:void(function(){document.open();document.write(&quot;<!DOCTYPE html><html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}
body{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style><link rel='stylesheet' type='text/css' href='/static/plugs/ueditor/themes/iframe.css'/></head><body class='view' ></body><script type='text/javascript'  id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant0'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);</script></html>&quot;);document.close();}())"></iframe></div><div id="edui1_bottombar" class="edui-editor-bottomContainer edui-default"><table class="edui-default"><tbody class="edui-default"><tr class="edui-default"><td id="edui1_elementpath" class="edui-editor-bottombar edui-default" style="display: none;"></td><td id="edui1_wordcount" class="edui-editor-wordcount edui-default" style="display: none;"></td><td id="edui1_scale" class="edui-editor-scale edui-default" style="display: none;"><div class="edui-editor-icon edui-default"></div></td></tr></tbody></table></div><div id="edui1_scalelayer" class="edui-default"></div></div></div><textarea name="content" style="display: none;"></textarea>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12">
                            <label style="color:#aaa">摘要选填，如果不填写会默认抓取正文前54个字</label>
                            <textarea name="digest" class="layui-input" style="height:80px;resize:none;line-height:20px"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <label style="display:block"><span style="color:#aaa;">原文链接<b>选填</b>，填写之后在图文左下方会出现此链接</span>
                                <input maxlength="200" name="content_source_url" class="layui-input">
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <div class="row">
                            <div class="col-md-offset-4 col-md-9">
                                <button data-submit="" type="button" class="layui-btn">保存图文</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!--右侧编辑区 结束-->


    </div>

    <script>
        $(function () {

            var editDdata = [];

            for (var i in editDdata) {
                $('.news-item').eq(i).data('item', editDdata[i]);
            }

            $('body').on('change', '.upload-image-box input', function () {
                $('.news-item.active').css('background-image', 'url(' + this.value + ')');
                $(this).parent('.upload-image-box').css('background-image', 'url(' + this.value + ')');
            });

            require(['ueditor'], function () {

                /*! 实例富文本编辑器  */
                var editor, $item;

                /*! 默认编辑第一篇图文 */
                editor = window.createEditor('[name="content"]', 'basic');

                /*! 编辑器初始化成功 */
                editor.ready(function () {

                    var $form = $('form[name="news"]'), $body = $('body');

                    $form.validate();

                    /*! 数据提交 */
                    $form.find('button[data-submit]').on('click', function () {
                        var data = [];
                        $form.submit();
                        if (!syncEditor($('.news-item.active'))) {
                            editor.setContent('文章内容不能留空，请输入内容！');
                            return false;
                        }
                        $('.news-item').map(function () {
                            var item = $(this).data('item');
                            item.content = item.content || '文章内容不能留空，请输入内容！';
                            data.push(item);
                        });
                        $.form.load('/index.php/wechat/news/add/id/1.html?spm=m-61-83', {data: data}, "post");
                    });

                    /*! 输入标题显示 */
                    $form.find('[name="title"]').on('keyup', function () {
                        if ($item) {
                            $item.find('.news-title').html(this.value).show();
                        }
                    });

                    /*! 同步编辑器 */
                    function syncEditor($pItem) {
                        // 处理上一个编辑器
                        if ($form && $pItem && $pItem.size() > 0) {
                            var data = {};
                            data.id = $form.find('[name=id]').val();
                            data.title = $form.find('[name=title]').val();
                            data.local_url = $form.find('[name=local_url]').val();
                            data.content = editor.getContent() || '';
                            data.author = $form.find('[name=author]').val();
                            data.digest = $form.find('[name=digest]').val();
                            data.show_cover_pic = $form.find('[name="show_cover_pic"]').get(0).checked ? 1 : 0;
                            $form.find('[name=local_url]').trigger('change');
                            $pItem.data('item', data), $form.submit();
                            if ($form.find('input.validate-error').size() > 0 || data.content.length < 1) {
                                ((data.content || '').length < 1) && editor.setContent('文章内容不能留空，请输入内容！');
                                $pItem.addClass('active').siblings().removeClass('active');
                                return false;
                            }
                        }
                        return true;
                    }

                    /*! 显示编辑器 */
                    function showEditor() {
                        // 读取对象数据
                        $item = $('.news-item.active');
                        this.get = function () {
                            var data = $item.data('item') || {};
                            data.id = data.id || 0;
                            data.title = data.title || '';
                            data.local_url = data.local_url || '/static/plugs/uploader/theme/image.png';
                            data.content = data.content || '';
                            data.author = data.author || '';
                            data.digest = data.digest || '';
                            data.show_cover_pic = data.show_cover_pic || 0;
                            return data;
                        };
                        // 重置表单
                        $form.get(0).reset();
                        // 获取当前数据
                        var data = this.get();
                        for (var i in data) {
                            if (i !== 'content' && i !== 'show_cover_pic') {
                                $form.find('[name="' + i + '"]').val(data[i]).trigger('change');
                            }
                        }
                        if (parseInt(data.show_cover_pic) === 1) {
                            $form.find('[name="show_cover_pic"]').get(0).checked = true;
                        }
                        editor.setContent(data.content);
                    }

                    /*! 添加新图文 */
                    $body.off('click', '.news-box .article-add').on('click', '.news-box .article-add', function () {
                        var $html = $('<div class="news-item transition" style="background-image:url(/static/plugs/uploader/theme/image.png)"><a class="upload-multiple-close fa fa-close hide"></a><span class="news-title"></span></div><hr />');
                        $html.insertBefore(this).trigger('click');
                        $('.news-item').size() >= 7 && $(this).hide();
                    });

                    /*! 列表选择 */
                    $body.off('click', '.news-item').on('click', '.news-item', function () {
                        if (syncEditor($('.news-item.active'))) {
                            $(this).addClass('active').siblings().removeClass('active');
                            showEditor($item);
                        }
                    });

                    /*! 隐藏删除按钮 */
                    $body.off('mouseleave').on('mouseleave', '.news-item', function () {
                        $(this).find('.upload-multiple-close').addClass('hide');
                    });

                    /*! 显示删除按钮 */
                    $body.off('mouseenter', '.news-item').on('mouseenter', '.news-item', function () {
                        $('.upload-multiple-close').addClass('hide');
                        $(this).find('.upload-multiple-close').removeClass('hide');
                    });

                    /*! 删除操作图文 */
                    $body.off('click', '.upload-multiple-close').on('click', '.upload-multiple-close', function () {
                        var $box = $(this).parents('.news-item');
                        $box.add($box.next('hr')).remove();
                        $('.news-item').size() < 7 && $('.news-box .article-add').show();
                    });

                    /*! 默认显示第一个 */
                    $('.news-box .news-item:first').trigger('click');
                });
            });
        });
    </script>

</div>